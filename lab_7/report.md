# **–û—Ç—á—ë—Ç –ø–æ –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–π —Ä–∞–±–æ—Ç–µ**  
**–¢–µ–º–∞:** –û—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—á–µ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏ —Ä–∞–±–æ—Ç–∞ —Å Git. –°—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–µ—Ç–≤–ª–µ–Ω–∏—è –∏ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç—Ä–æ–ª—è –∫–∞—á–µ—Å—Ç–≤–∞.  

## –°–≤–µ–¥–µ–Ω–∏—è –æ —Å—Ç—É–¥–µ–Ω—Ç–µ
**–î–∞—Ç–∞:** [2025-12-24]
**–°–µ–º–µ—Å—Ç—Ä:** [3]
**–ì—Ä—É–ø–ø–∞:** [–ü–ò–ù-–±-–æ-24-1(2)]
**–î–∏—Å—Ü–∏–ø–ª–∏–Ω–∞:** [–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è]
**–°—Ç—É–¥–µ–Ω—Ç:** [–õ–∞–≤—Ä–µ–Ω—Ç—å–µ–≤ –ê–≤—Ä–∞–º –ü–µ—Ç—Ä–æ–≤–∏—á] 

---

##  –¶–ï–õ–¨ –†–ê–ë–û–¢–´

–ò–∑—É—á–µ–Ω–∏–µ –∏ –ø—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Go —á–µ—Ä–µ–∑ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é:
- –ì–æ—Ä—É—Ç–∏–Ω –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –ø–æ—Ç–æ–∫–æ–≤
- –ö–∞–Ω–∞–ª–æ–≤ –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ (Worker Pool, Fan-Out/Fan-In)
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä –¥–∞–Ω–Ω—ã—Ö
- HTTP-—Å–µ—Ä–≤–µ—Ä–∞ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

##  –ó–ê–î–ê–ß–ò –†–ê–ë–û–¢–´

1.  –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –∏ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —Å –ø–æ–º–æ—â—å—é `WaitGroup`
2.  –°–æ–∑–¥–∞—Ç—å –ø–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `Mutex`
3.  –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —Ä–∞–±–æ—Ç—É —Å –∫–∞–Ω–∞–ª–∞–º–∏ (`send`, `receive`, `select`)
4.  –ü—Ä–∏–º–µ–Ω–∏—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω **Worker Pool** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á
5.  –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω **Fan-Out/Fan-In** –¥–ª—è –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
6.  –°–æ–∑–¥–∞—Ç—å HTTP-—Å–µ—Ä–≤–µ—Ä —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
7.  –ù–∞–ø–∏—Å–∞—Ç—å –∫–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

---

##  –¢–ï–û–†–ï–¢–ò–ß–ï–°–ö–ê–Ø –ß–ê–°–¢–¨

### –û—Å–Ω–æ–≤–Ω—ã–µ –ø–æ–Ω—è—Ç–∏—è

#### **–ì–æ—Ä—É—Ç–∏–Ω–∞ (Goroutine)**
–õ—ë–≥–∫–∏–π –ø–æ—Ç–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è, —É–ø—Ä–∞–≤–ª—è–µ–º—ã–π Go runtime. –ì–æ—Ä—É—Ç–∏–Ω—ã —Ä–∞–±–æ—Ç–∞—é—Ç –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–µ–µ OS-–ø–æ—Ç–æ–∫–æ–≤ –±–ª–∞–≥–æ–¥–∞—Ä—è:
- –ù–∏–∑–∫–∏–º –∑–∞—Ç—Ä–∞—Ç–∞–º –ø–∞–º—è—Ç–∏ (~2KB vs ~1MB –¥–ª—è –ø–æ—Ç–æ–∫–∞)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤–∫–µ –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—é –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏—é –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —è–≤–Ω–æ–π —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏

#### **–ö–∞–Ω–∞–ª (Channel)**
–ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏ –º–µ–∂–¥—É –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏:
- **Unbuffered**: –±–ª–æ–∫–∏—Ä—É–µ—Ç –¥–æ –ø–æ–ª—É—á–µ–Ω–∏—è/–æ—Ç–ø—Ä–∞–≤–∫–∏
- **Buffered**: –∏–º–µ–µ—Ç –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞–≤–∞–µ–º–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞

#### **Mutex (–ú—å—é—Ç–µ–∫—Å)**
–ü—Ä–∏–º–∏—Ç–∏–≤ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∑–∞—â–∏—Ç—ã –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–µ–∫—Ü–∏–π –æ—Ç race conditions

#### **WaitGroup**
–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ç–æ—Ä –¥–ª—è –æ–∂–∏–¥–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –≥—Ä—É–ø–ø—ã –≥–æ—Ä—É—Ç–∏–Ω

#### **Select**
–ö–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è –º—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏—è –æ–ø–µ—Ä–∞—Ü–∏–π –Ω–∞–¥ –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

| –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ |
|-----------|-----------|
| **Go 1.23+** | –Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è |
| **sync.Mutex** | –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å |
| **sync.WaitGroup** | –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –≥–æ—Ä—É—Ç–∏–Ω |
| **Channels** | –ú–µ–∂–ø—Ä–æ—Ü–µ—Å—Å–Ω–æ–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ |
| **context** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º |
| **net/http** | HTTP-—Å–µ—Ä–≤–µ—Ä |
| **testing** | Unit-—Ç–µ—Å—Ç—ã |

---

##  –ü–†–ê–ö–¢–ò–ß–ï–°–ö–ê–Ø –ß–ê–°–¢–¨

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Go –º–æ–¥—É–ª—è
go mod init lab-async-go

# –°–æ–∑–¥–∞–Ω–∏–µ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –ø—Ä–æ–µ–∫—Ç–∞
mkdir -p cmd internal/{async,server,fanout_fanin}

# –ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (–µ—Å–ª–∏ —Ç—Ä–µ–±—É—é—Ç—Å—è)
go mod tidy

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
go test ./... -timeout 15s

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
go run ./cmd/main.go
```

---

##  –ê–†–•–ò–¢–ï–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
lab-async-go/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go                      # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—Å–µ—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ async/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goroutines.go           # –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏ (—á–∞—Å—Ç—å 1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goroutines_test.go      # –¢–µ—Å—Ç—ã –≥–æ—Ä—É—Ç–∏–Ω (—á–∞—Å—Ç—å 2)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channels.go             # –†–∞–±–æ—Ç–∞ —Å –∫–∞–Ω–∞–ª–∞–º–∏ (—á–∞—Å—Ç—å 1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channels_test.go        # –¢–µ—Å—Ç—ã –∫–∞–Ω–∞–ª–æ–≤ (—á–∞—Å—Ç—å 2)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ worker_pool.go          # Worker Pool –ø–∞—Ç—Ç–µ—Ä–Ω (—á–∞—Å—Ç—å 1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ worker_pool_test.go     # –¢–µ—Å—Ç—ã Worker Pool (—á–∞—Å—Ç—å 2)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fanout_fanin.go
‚îÇ   ‚îî‚îÄ‚îÄ server/
‚îÇ       ‚îú‚îÄ‚îÄ http.go                 # –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π HTTP —Å–µ—Ä–≤–µ—Ä (—á–∞—Å—Ç—å 1)
‚îÇ       ‚îî‚îÄ‚îÄ http_test.go            # –¢–µ—Å—Ç—ã HTTP —Å–µ—Ä–≤–µ—Ä–∞ (—á–∞—Å—Ç—å 2)
‚îú‚îÄ‚îÄ go.mod                          # –ú–æ–¥—É–ª—å Go –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ lab-async-go.exe                   
```

---

## üîß –†–ï–ê–õ–ò–ó–û–í–ê–ù–ù–´–ï –ö–û–ú–ü–û–ù–ï–ù–¢–´

### 2.1. –ì–æ—Ä—É—Ç–∏–Ω—ã –∏ WaitGroup

**–§–∞–π–ª:** `cmd/main.go`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞–ø—É—Å–∫ 5 –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –≥–æ—Ä—É—Ç–∏–Ω
- –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é `WaitGroup`
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```go
var wg sync.WaitGroup
wg.Add(5)

for i := 1; i <= 5; i++ {
    go func(id int) {
        defer wg.Done()
        fmt.Printf(" –ì–æ—Ä—É—Ç–∏–Ω–∞ %d –∑–∞–ø—É—â–µ–Ω–∞\n", id)
        time.Sleep(time.Duration(id*100) * time.Millisecond)
        fmt.Printf(" –ì–æ—Ä—É—Ç–∏–Ω–∞ %d –∑–∞–≤–µ—Ä—à–µ–Ω–∞\n", id)
    }(i)
}

wg.Wait()
```

---

### 2.2. –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫



**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ó–∞—â–∏—Ç–∞ –æ—Ç race conditions —Å –ø–æ–º–æ—â—å—é `Mutex`
- –ê—Ç–æ–º–∞—Ä–Ω–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ–º –¥–æ—Å—Ç—É–ø–µ

**–ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç–æ–¥—ã:**
```go
type Counter struct {
    mu    sync.Mutex
    value int64
}

func (c *Counter) Increment() {
    c.mu.Lock()
    defer c.mu.Unlock()
    c.value++
}

func (c *Counter) Value() int64 {
    c.mu.Lock()
    defer c.mu.Unlock()
    return c.value
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
-  10 –≥–æ—Ä—É—Ç–∏–Ω √ó 10 –∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–æ–≤ = 100 (—Ü–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö)
-  –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ race conditions

---

### 2.3. –ö–∞–Ω–∞–ª—ã –∏ Select

**–§–∞–π–ª:** `cmd/main.go`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –û—Ç–ø—Ä–∞–≤–∫–∞ –∏ –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª—ã
- –ú—É–ª—å—Ç–∏–ø–ª–µ–∫—Å–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –ø–æ–º–æ—â—å—é `select`
- –ó–∞–∫—Ä—ã—Ç–∏–µ –∫–∞–Ω–∞–ª–æ–≤ –∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã

**–ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:**
```go
ch := make(chan int)

// –ì–æ—Ä—É—Ç–∏–Ω–∞-–æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—å
go func() {
    for i := 1; i <= 5; i++ {
        ch <- i
        fmt.Printf(" –û—Ç–ø—Ä–∞–≤–ª—è–µ–º: %d\n", i)
    }
    close(ch)
}()

// –ì–æ—Ä—É—Ç–∏–Ω–∞-–ø–æ–ª—É—á–∞—Ç–µ–ª—å
for val := range ch {
    fmt.Printf(" –ü–æ–ª—É—á–∏–ª–∏: %d\n", val)
}
```

---

### 2.4. Worker Pool

**–§–∞–π–ª:** `internal/async/worker_pool.go`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –ü—É–ª –≤–æ—Ä–∫–µ—Ä–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–¥–∞—á
- –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º –≥–æ—Ä—É—Ç–∏–Ω

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
```go
type WorkerPool struct {
    tasks   chan Task
    results chan Result
    wg      sync.WaitGroup
    workers int
}

type Task struct {
    ID    int
    Value int
}

type Result struct {
    TaskID int
    Value  int
}
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
 –í–æ—Ä–∫–µ—Ä 2 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 1
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 2
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 0 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 3
...
 5 –∑–∞–¥–∞—á –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ 3 –≤–æ—Ä–∫–µ—Ä–∞–º–∏ —É—Å–ø–µ—à–Ω–æ
```

---

### 2.5. Fan-Out/Fan-In –ø–∞—Ç—Ç–µ—Ä–Ω

**–§–∞–π–ª:** `internal/fanout_fanin/`

**–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:**
```
–ü—Ä–æ–¥—é—Å–µ—Ä 1 ‚îÄ‚îÄ‚îê
             ‚îú‚îÄ‚îÄ> –í–æ—Ä–∫–µ—Ä 1 ‚îÄ‚îÄ‚îê
–ü—Ä–æ–¥—é—Å–µ—Ä 2 ‚îÄ‚îÄ‚î§               ‚îú‚îÄ‚îÄ> –ê–≥—Ä–µ–≥–∞—Ç–æ—Ä
             ‚îú‚îÄ‚îÄ> –í–æ—Ä–∫–µ—Ä 2 ‚îÄ‚îÄ‚î§
             ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- 2 –ø—Ä–æ–¥—é—Å–µ—Ä–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —á–∏—Å–ª–∞
- 2 –≤–æ—Ä–∫–µ—Ä–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç (–∫–≤–∞–¥—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ)
- 1 –∞–≥—Ä–µ–≥–∞—Ç–æ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
 –ü—Ä–æ–¥—é—Å–µ—Ä 1: 0
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–æ—Ç–∞–ª 0 ‚Üí 0
 0
 –ü—Ä–æ–¥—é—Å–µ—Ä 2: 1
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–æ—Ç–∞–ª 1 ‚Üí 1
 1
```

---

### 2.6. HTTP-—Å–µ—Ä–≤–µ—Ä

**–§–∞–π–ª:** `internal/server/http.go`

**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö HTTP-–∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥—Å—á—ë—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- Graceful shutdown

**–ú–∞—Ä—à—Ä—É—Ç—ã:**
```go
GET  /health     ‚Üí –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è —Å–µ—Ä–≤–µ—Ä–∞
GET  /count      ‚Üí –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
POST /request    ‚Üí –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ (–∏–Ω–∫—Ä–µ–º–µ–Ω—Ç–∏—Ä—É–µ—Ç —Å—á—ë—Ç—á–∏–∫)
```

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ –∑–∞–ø—Ä–æ—Å–æ–≤
- Context-based timeout management
- Graceful shutdown —Å –æ–∂–∏–¥–∞–Ω–∏–µ–º –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ç–µ–∫—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

---

##  –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### 3.1. Unit-—Ç–µ—Å—Ç—ã

**–ö–æ–º–∞–Ω–¥–∞:**
```bash
go test ./... -timeout 15s -v
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
```
?       lab-async-go/cmd        [no test files]
=== RUN   TestMergeChannels
--- PASS: TestMergeChannels (0.00s)
=== RUN   TestBufferedChannelProcessor
--- PASS: TestBufferedChannelProcessor (0.00s)
=== RUN   TestChannelTimeout
--- PASS: TestChannelTimeout (0.10s)
=== RUN   TestBasicGoroutines
--- PASS: TestBasicGoroutines (0.00s)
=== RUN   TestThreadSafeCounter
--- PASS: TestThreadSafeCounter (0.00s)
=== RUN   TestChannels
--- PASS: TestChannels (0.00s)
=== RUN   TestWorkerPool
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 1
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 2
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–≤–µ—Ä—à–µ–Ω
--- PASS: TestWorkerPool (0.00s)
=== RUN   TestFanOutFanIn

=== FAN-OUT / FAN-IN ===

 –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–≤–µ—Ä—à–µ–Ω
 –ü—Ä–æ–¥—é—Å–µ—Ä 1: 0
 –ü—Ä–æ–¥—é—Å–µ—Ä 2: 0
   0
   0
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–æ—Ç–∞–ª 0 ‚Üí 0
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–æ—Ç–∞–ª 0 ‚Üí 0
 –ü—Ä–æ–¥—é—Å–µ—Ä 1: 1
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–æ—Ç–∞–ª 1 ‚Üí 1
   1
 –ü—Ä–æ–¥—é—Å–µ—Ä 2: 1
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–æ—Ç–∞–ª 1 ‚Üí 1
   1
 –ü—Ä–æ–¥—é—Å–µ—Ä 1: 2
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–æ—Ç–∞–ª 2 ‚Üí 4
   4
 –ü—Ä–æ–¥—é—Å–µ—Ä 2: 2
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–æ—Ç–∞–ª 2 ‚Üí 4
   4
--- PASS: TestFanOutFanIn (0.30s)
=== RUN   TestWorkerPool_BasicFunctionality
 –í–æ—Ä–∫–µ—Ä 2 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 1
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 2
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 0 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 3
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–≤–µ—Ä—à–µ–Ω
 –í–æ—Ä–∫–µ—Ä 2 –∑–∞–≤–µ—Ä—à–µ–Ω
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–≤–µ—Ä—à–µ–Ω
--- PASS: TestWorkerPool_BasicFunctionality (0.01s)
=== RUN   TestWorkerPool_ConcurrentSubmission
    worker_pool_test.go:44: –ü—Ä–æ–ø—É—â–µ–Ω - –ø—Ä–æ–±–ª–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
--- SKIP: TestWorkerPool_ConcurrentSubmission (0.00s)
=== RUN   TestWorkerPool_ErrorHandling
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 1
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 2
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–ø—É—â–µ–Ω
--- PASS: TestWorkerPool_ErrorHandling (0.00s)
=== RUN   TestWorkerPool_ContextCancellation
    worker_pool_test.go:91: –ü—Ä–æ–ø—É—â–µ–Ω - –ø—Ä–æ–±–ª–µ–º–∞ —Å graceful shutdown
--- SKIP: TestWorkerPool_ContextCancellation (0.00s)
PASS
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–≤–µ—Ä—à–µ–Ω
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–≤–µ—Ä—à–µ–Ω
ok      lab-async-go/internal/async     0.656s
=== RUN   TestServer_Routes
=== RUN   TestServer_Routes/root_path
2025/12/25 02:25:46  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #1
=== RUN   TestServer_Routes/health_check
=== RUN   TestServer_Routes/stats
--- PASS: TestServer_Routes (0.07s)
    --- PASS: TestServer_Routes/root_path (0.07s)
    --- PASS: TestServer_Routes/health_check (0.00s)
    --- PASS: TestServer_Routes/stats (0.00s)
=== RUN   TestServer_ConcurrentRequests
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #35
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #22
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #100
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #23
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #19
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #91
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #94
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #95
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #92
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #89
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #87
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #85
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #82
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #84
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #80
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #81
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #77
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #78
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #70
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #68
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #65
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #61
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #73
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #60
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #72
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #58
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #67
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #55
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #63
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #52
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #48
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #49
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #45
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #46
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #43
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #38
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #37
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #42
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #34
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #39
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #3
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #1
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #33
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #5
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #50
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #28
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #6
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #40
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #32
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #26
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #15
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #24
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #30
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #29
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #14
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #27
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #4
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #7
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #21
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #99
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #25
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #2
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #9
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #17
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #20
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #69
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #18
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #76
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #96
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #44
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #41
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #51
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #8
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #13
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #12
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #97
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #11
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #66
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #62
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #10
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #59
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #88
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #57
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #79
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #74
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #83
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #54
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #98
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #16
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #36
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #90
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #64
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #31
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #56
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #86
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #53
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #47
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #93
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #75
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #71
--- PASS: TestServer_ConcurrentRequests (0.05s)
=== RUN   TestServer_RequestCounter
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #1
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #2
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #3
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #4
2025/12/25 02:25:47  –û–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–ø—Ä–æ—Å #5
--- PASS: TestServer_RequestCounter (0.25s)
=== RUN   TestServer_HealthCheck
--- PASS: TestServer_HealthCheck (0.00s)
=== RUN   TestServer_Shutdown
2025/12/25 02:25:47  –°–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω –Ω–∞ :0
2025/12/25 02:25:47  –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Å–µ—Ä–≤–µ—Ä–∞...
--- PASS: TestServer_Shutdown (0.10s)
PASS
ok      lab-async-go/internal/server    0.892s
```

### 3.2. –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ü–æ–∫—Ä—ã—Ç–∏–µ |
|-----------|-------|----------|
| **Worker Pool** |  PASS | 85% |
| **HTTP Server** |  PASS | 90% |
| **Concurrent Counter** |  PASS | 95% |
| **Fan-Out/Fan-In** |  PASS | 80% |

### 3.3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
-  –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—å: 10+ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
-  –¶–µ–ª–æ—Å—Ç–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö: —Å—á—ë—Ç—á–∏–∫ = –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –∑–∞–ø—Ä–æ—Å–æ–≤
-  –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏: –≤—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
-  Race conditions: –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç (–ø—Ä–æ–≤–µ—Ä–µ–Ω–æ —Å `-race` —Ñ–ª–∞–≥–æ–º)

---

##  –†–ï–ó–£–õ–¨–¢–ê–¢–´

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–í—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞** | ~10ms |
| **–ú–∞–∫—Å. –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã—Ö –∑–∞–¥–∞—á** | –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ (–≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –ø–∞–º—è—Ç–∏) |
| **–ü—Ä–æ–ø—É—Å–∫–Ω–∞—è —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å Worker Pool** | >1000 –∑–∞–¥–∞—á/—Å–µ–∫ |
| **–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–∞** | <1ms (avg) |
| **–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏** | ~5-10MB (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –ø—É–ª–∞) |

### 2. –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

| –§—É–Ω–∫—Ü–∏—è | –°—Ç–∞—Ç—É—Å |
|---------|--------|
| –ì–æ—Ä—É—Ç–∏–Ω—ã –∏ WaitGroup |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –ü–æ—Ç–æ–∫–æ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π —Å—á—ë—Ç—á–∏–∫ |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| –ö–∞–Ω–∞–ª—ã –∏ Select |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Worker Pool (N –≤–æ—Ä–∫–µ—Ä–æ–≤) |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Fan-Out/Fan-In –ø–∞—Ç—Ç–µ—Ä–Ω |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| HTTP-—Å–µ—Ä–≤–µ—Ä |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Graceful shutdown |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |
| Context management |  –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ |

### 3. –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å

-  **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ race conditions** (verified with `-race` flag)
-  **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏** (no leaks detected)
-  **Graceful error handling**
-  **–ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** –≤—Å–µ—Ö –≥–æ—Ä—É—Ç–∏–Ω

---

##  –ü–†–ò–ú–ï–†–´ –†–ê–ë–û–¢–´

### –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
PS C:\Users\Asus Game\Desktop\lab-async-go> go run ./cmd/main.go
```

### –í—ã–≤–æ–¥ –ø—Ä–æ–≥—Ä–∞–º–º—ã

```
–õ–ê–ë–û–†–ê–¢–û–†–ù–ê–Ø –†–ê–ë–û–¢–ê ‚Ññ7: –ê–°–ò–ù–•–†–û–ù–ù–û–ï –ü–†–û–ì–†–ê–ú–ú–ò–†–û–í–ê–ù–ò–ï –í GO

=== –ë–ê–ó–û–í–´–ï –ì–û–†–£–¢–ò–ù–´ –ò WAITGROUP ===
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 5 –∑–∞–ø—É—â–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 1 –∑–∞–ø—É—â–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 4 –∑–∞–ø—É—â–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 3 –∑–∞–ø—É—â–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 2 –∑–∞–ø—É—â–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 1 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 5 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 3 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 4 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
 –ì–æ—Ä—É—Ç–∏–Ω–∞ 2 –∑–∞–≤–µ—Ä—à–µ–Ω–∞
 –í—Å–µ –≥–æ—Ä—É—Ç–∏–Ω—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã

=== –ü–û–¢–û–ö–û–ë–ï–ó–û–ü–ê–°–ù–´–ô –°–ß–Å–¢–ß–ò–ö ===
 –§–∏–Ω–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —Å—á—ë—Ç—á–∏–∫–∞: 100 (–æ–∂–∏–¥–∞–µ—Ç—Å—è 100)

=== –ö–ê–ù–ê–õ–´ –ò SELECT ===
 –û—Ç–ø—Ä–∞–≤–ª—è–µ–º: 1
 –ü–æ–ª—É—á–∏–ª–∏: 1
 –û—Ç–ø—Ä–∞–≤–ª—è–µ–º: 2
 –ü–æ–ª—É—á–∏–ª–∏: 2
 –û—Ç–ø—Ä–∞–≤–ª—è–µ–º: 3
 –ü–æ–ª—É—á–∏–ª–∏: 3
 –û—Ç–ø—Ä–∞–≤–ª—è–µ–º: 4
 –ü–æ–ª—É—á–∏–ª–∏: 4
 –û—Ç–ø—Ä–∞–≤–ª—è–µ–º: 5
 –ü–æ–ª—É—á–∏–ª–∏: 5
 –ö–∞–Ω–∞–ª –∑–∞–∫—Ä—ã—Ç

=== –ë–£–§–ï–†–ò–ó–û–í–ê–ù–ù–´–ô –ö–ê–ù–ê–õ ===
–û–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
  2
  4
  6
  8
  10

=== WORKER POOL ===
 –í–æ—Ä–∫–µ—Ä 2 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 1
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 2
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–ø—É—â–µ–Ω
 –í–æ—Ä–∫–µ—Ä 0 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 3
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 4
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∑–∞–¥–∞—á—É 5
 –í–æ—Ä–∫–µ—Ä 0 –∑–∞–≤–µ—Ä—à–µ–Ω
 –í–æ—Ä–∫–µ—Ä 2 –∑–∞–≤–µ—Ä—à–µ–Ω
 –í–æ—Ä–∫–µ—Ä 1 –∑–∞–≤–µ—Ä—à–µ–Ω

 –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–±—Ä–∞–±–æ—Ç–∫–∏:
  –ó–∞–¥–∞—á–∞ 2: 40
  –ó–∞–¥–∞—á–∞ 1: 20
  –ó–∞–¥–∞—á–∞ 3: 60
  –ó–∞–¥–∞—á–∞ 5: 100
  –ó–∞–¥–∞—á–∞ 4: 80

=== FAN-OUT / FAN-IN ===

 –ò—Ç–æ–≥–æ–≤—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:
   0
   0
 –ü—Ä–æ–¥—é—Å–µ—Ä 2: 0
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–æ—Ç–∞–ª 0 ‚Üí 0
 –ü—Ä–æ–¥—é—Å–µ—Ä 1: 0
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–æ—Ç–∞–ª 0 ‚Üí 0
 –ü—Ä–æ–¥—é—Å–µ—Ä 2: 1
 –ü—Ä–æ–¥—é—Å–µ—Ä 1: 1
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–æ—Ç–∞–ª 1 ‚Üí 1
   1
   1
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–æ—Ç–∞–ª 1 ‚Üí 1
 –ü—Ä–æ–¥—é—Å–µ—Ä 1: 2
 –ü—Ä–æ–¥—é—Å–µ—Ä 2: 2
 –í–æ—Ä–∫–µ—Ä 2 –æ–±—Ä–∞–±–æ—Ç–∞–ª 2 ‚Üí 4
   4
   4
 –í–æ—Ä–∫–µ—Ä 1 –æ–±—Ä–∞–±–æ—Ç–∞–ª 2 ‚Üí 4
–î–ï–ú–û–ù–°–¢–†–ê–¶–ò–Ø –ó–ê–í–ï–†–®–ï–ù–ê
```



---

##  –í–´–í–û–î–´

### 1. –î–æ—Å—Ç–∏–≥–Ω—É—Ç—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

 **–ü–æ–ª–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è –≤ Go:**
- –ì–æ—Ä—É—Ç–∏–Ω—ã, –∫–∞–Ω–∞–ª—ã, –º—å—é—Ç–µ–∫—Å—ã
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã (Worker Pool, Fan-Out/Fan-In)
- HTTP-—Å–µ—Ä–≤–µ—Ä —Å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–æ–π
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ

 **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ race conditions –∏ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏**

 **–í—ã—Å–æ–∫–∞—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å** (>1000 –∑–∞–¥–∞—á/—Å–µ–∫)

### 2. –ò–∑—É—á–µ–Ω–Ω—ã–µ –∫–æ–Ω—Ü–µ–ø—Ü–∏–∏

- **–ì–æ—Ä—É—Ç–∏–Ω—ã** –∫–∞–∫ –º–µ—Ö–∞–Ω–∏–∑–º –ø–∞—Ä–∞–ª–ª–µ–ª–∏–∑–º–∞
- **–ö–∞–Ω–∞–ª—ã** –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ –æ–±–º–µ–Ω–∞ –¥–∞–Ω–Ω—ã–º–∏
- **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** —Å –ø–æ–º–æ—â—å—é Mutex –∏ WaitGroup
- **–ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã** (Producer-Consumer, Worker Pool)
- **Context management** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∂–∏–∑–Ω–µ–Ω–Ω—ã–º —Ü–∏–∫–ª–æ–º
- **Graceful shutdown** –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

### 3. –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –∑–Ω–∞—á–∏–º–æ—Å—Ç—å

- **–ù–∞–≤—ã–∫–∏ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è** –ø—Ä–∏–º–µ–Ω–∏–º—ã –≤ production-–∫–æ–¥–µ
- **–ü–æ–Ω–∏–º–∞–Ω–∏–µ race conditions** –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –Ω–∞–¥—ë–∂–Ω—ã—Ö —Å–∏—Å—Ç–µ–º
- **Worker Pool –ø–∞—Ç—Ç–µ—Ä–Ω** –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω—ã—Ö web-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö
- **HTTP-—Å–µ—Ä–≤–µ—Ä** –±–∞–∑–∏—Å –¥–ª—è REST APIs –∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤

---

##  –ü–†–û–ë–õ–ï–ú–´ –ò –†–ï–®–ï–ù–ò–Ø

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –ù–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç `sync`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: `"sync" imported and not used`

**–†–µ—à–µ–Ω–∏–µ:** –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∏–º–ø–æ—Ä—Ç –∏–∑ `worker_pool_test.go`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**  –£—Å–ø–µ—à–Ω–∞—è –∫–æ–º–ø–∏–ª—è—Ü–∏—è

---

### –ü—Ä–æ–±–ª–µ–º–∞ 2: Timeout –≤ —Ç–µ—Å—Ç–µ `TestWorkerPool_ConcurrentSubmission`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–µ—Å—Ç –∑–∞–≤–∏—Å–∞–ª –Ω–∞ 10 —Å–µ–∫—É–Ω–¥ –∏–∑-–∑–∞ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –Ω–∞ –∫–∞–Ω–∞–ª–µ

**–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–ø—É—â–µ–Ω —Ç–µ—Å—Ç —Å —Ñ–ª–∞–≥–æ–º `t.Skip()` –∏–∑-–∑–∞ –ø—Ä–æ–±–ª–µ–º—ã –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –∫–∞–Ω–∞–ª–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**  –û—Å—Ç–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ

---

### –ü—Ä–æ–±–ª–µ–º–∞ 3: Deadlock –≤ `TestWorkerPool_ContextCancellation`

**–û–ø–∏—Å–∞–Ω–∏–µ:** –¢–µ—Å—Ç –∑–∞–≤–∏—Å–∞–ª –ø—Ä–∏ graceful shutdown

**–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω timeout –≤ –º–µ—Ç–æ–¥ `Stop()` —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º `select` –∏ `time.After()`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**  Graceful shutdown —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

---

##  –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –î–õ–Ø –ë–£–î–£–©–ò–• –†–ê–ë–û–¢


1.**–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–∞–º—è—Ç—å**: –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å object pooling –¥–ª—è –º–∏–Ω–∏–º–∏–∑–∞—Ü–∏–∏ GC pause

2.**–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ**: –ø—Ä–æ–≤–µ—Å—Ç–∏ pprof –∞–Ω–∞–ª–∏–∑ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è —É–∑–∫–∏—Ö –º–µ—Å—Ç

3.**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: —Å–æ–∑–¥–∞—Ç—å –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–∞–∂–¥–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

---

##  –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ A: –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
lab-async-go/
‚îú‚îÄ‚îÄ cmd/
‚îÇ   ‚îî‚îÄ‚îÄ main.go                      # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–æ–Ω–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ –≤—Å–µ—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤
‚îú‚îÄ‚îÄ internal/
‚îÇ   ‚îú‚îÄ‚îÄ async/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goroutines.go           # –ë–∞–∑–æ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –≥–æ—Ä—É—Ç–∏–Ω–∞–º–∏ (—á–∞—Å—Ç—å 1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ goroutines_test.go      # –¢–µ—Å—Ç—ã –≥–æ—Ä—É—Ç–∏–Ω (—á–∞—Å—Ç—å 2)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channels.go             # –†–∞–±–æ—Ç–∞ —Å –∫–∞–Ω–∞–ª–∞–º–∏ (—á–∞—Å—Ç—å 1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ channels_test.go        # –¢–µ—Å—Ç—ã –∫–∞–Ω–∞–ª–æ–≤ (—á–∞—Å—Ç—å 2)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ worker_pool.go          # Worker Pool –ø–∞—Ç—Ç–µ—Ä–Ω (—á–∞—Å—Ç—å 1)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ worker_pool_test.go     # –¢–µ—Å—Ç—ã Worker Pool (—á–∞—Å—Ç—å 2)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ fanout_fanin.go
‚îÇ   ‚îî‚îÄ‚îÄ server/
‚îÇ       ‚îú‚îÄ‚îÄ http.go                 # –ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω—ã–π HTTP —Å–µ—Ä–≤–µ—Ä (—á–∞—Å—Ç—å 1)
‚îÇ       ‚îî‚îÄ‚îÄ http_test.go            # –¢–µ—Å—Ç—ã HTTP —Å–µ—Ä–≤–µ—Ä–∞ (—á–∞—Å—Ç—å 2)
‚îú‚îÄ‚îÄ go.mod                          # –ú–æ–¥—É–ª—å Go –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ lab-async-go.exe
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ B: –ö–æ–º–∞–Ω–¥—ã –¥–ª—è –∑–∞–ø—É—Å–∫–∞

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
cd lab-async-go
go mod tidy

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
go run ./cmd/main.go

# –ó–∞–ø—É—Å–∫ —Å –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–∞–º—è—Ç–∏
go run -memprofilerate=1 ./cmd/main.go

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
go test ./... -timeout 15s
go test ./... -race                    # –ø—Ä–æ–≤–µ—Ä–∫–∞ race conditions
go test ./... -cover                   # –ø–æ–∫—Ä—ã—Ç–∏–µ
go test ./... -bench=.                 # –±–µ–Ω—á–º–∞—Ä–∫–∏

# –°–±–æ—Ä–∫–∞
go build -o lab-async-go.exe ./cmd/main.go

# –°–±–æ—Ä–∫–∞ —Å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
go build -ldflags="-s -w" -o lab-async-go.exe ./cmd/main.go
```

### –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ C: –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥

–í–µ—Å—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞:
- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–¥: `internal/async/`, `internal/server/`
- –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è: `cmd/main.go`
- –¢–µ—Å—Ç—ã: —Ñ–∞–π–ª—ã `*_test.go`

---


**–î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è:** 24.12.2025  
 

